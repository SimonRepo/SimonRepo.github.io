---
layout:     post
title:      基于阿里云服务器搭建JavaWeb开发环境
subtitle:   ubuntu下安装配置jdk tomcat mysql
date:       2018-04-20
author:     Simon
header-img: img/xx.jpg
catalog: true
tags: 
    - Linux
    - MySQL
    - Tomcat
    - JavaWeb
---

>针对非运维开发者来说，也需要掌握对环境搭建、配置、日常维护的基本技能。本文将记录基于[阿里云服务器ECS](https://www.aliyun.com/)进行JavaWeb开发环境的搭建流程及注意事项。

#### 软件版本
```
System: Ubuntu 14.04
MySQL Community Server: 5.7.20
Apache Tomcat: 8.5.23
JDK: 1.8.0_191
```
#### JDK安装
① 解压
```
mkdir /usr/lib/jvm 
cd /usr/lib/jvm 
sudo tar -zxvf jdk-8u191-linux-x64.tar.gz -C ./  
```
② 配置环境变量  
```
sudo vim /etc/profile  
```
   在profile文件后面加上以下配置信息  
```
# jdk
export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_191
export JRE_HOME=${JAVA_HOME}/jre
export CLASSPATH=.:${JAVA_HOME}/lib:${JAVA_HOME}/lib
export PATH=${JAVA_HOME}/bin:$PATH
```
③ 刷新配置文件
```
source /etc/profile
```
④ 验证
```
java -version
output:  
       java version "1.8.0_191"  
       Java(TM) SE Runtime Environment (build 1.8.0_191-b12)  
       Java HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode)  
```
#### Tomcat安装
① 解压
```
mkdir /usr/tomcat
sudo chmod 755 /usr/tomcat
cd /usr/tomcat
sudo tar -zxvf apache-tomcat-8.5.23.tar.gz ./
```
② 配置环境变量  
```
vim /usr/tomcat/apache-tomcat-8.5.23/bin/startup.sh
```
在startup.sh文件后面加上以下配置信息
```
#为tomcat设置java环境
export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_191
export JRE_HOME=${JAVA_HOME}/jre
export CLASSPATH=.:%{JAVA_HOME}/lib:%{JRE_HOME}/lib
export PATH=${JAVA_HOME}/bin:$PATH

#设置tomcat环境变量
export TOMCAT_HOME=/usr/tomcat/apache-tomcat-8.5.23

exec "$PRGDIR"/"$EXECUTABLE" start "$@"
```
```
vim /usr/tomcat/apache-tomcat-8.5.23/bin/shutdown.sh
```
在shutdown.sh文件后面加上以下配置信息
```
#为tomcat设置java环境
export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_191
export JRE_HOME=${JAVA_HOME}/jre
export CLASSPATH=.:%{JAVA_HOME}/lib:%{JRE_HOME}/lib
export PATH=${JAVA_HOME}/bin:$PATH

#设置tomcat环境变量
export TOMCAT_HOME=/usr/tomcat/apache-tomcat-8.5.23

exec "$PRGDIR"/"$EXECUTABLE" stop "$@"
```
③ 验证  
启动tomcat
```
cd /usr/tomcat/apache-tomcat-8.5.23/bin
./startup.sh
output:
       Using CATALINA_BASE:   /usr/tomcat/apache-tomcat-8.5.23
       Using CATALINA_HOME:   /usr/tomcat/apache-tomcat-8.5.23
       Using CATALINA_TMPDIR: /usr/tomcat/apache-tomcat-8.5.23/temp
       Using JRE_HOME:        /usr/lib/jvm/jdk1.8.0_191/jre
       Using CLASSPATH:       /usr/tomcat/apache-tomcat-8.5.23/bin/bootstrap.jar:/usr/tomcat/apache-tomcat-8.5.23/bin/tomcat-juli.jar
       Tomcat started.
```
启动tomcat后，通过外网访问ECS公网IP http://120.78.93.11:8080/ 这时访问失败，需要
到阿里云配置安全规则  
④ 添加安全组规则  
![8080安全组规则截图](https://github.com/SimonRepo//raw/master/img/2018-04-08/config_safe_1.jpg)
#### Related Download
[JDK](https://www.oracle.com/technetwork/java/javase/downloads/index.html)  
[Tomcat](http://tomcat.apache.org/)  
[MySQL Community Server](https://dev.mysql.com/downloads/mysql/)  
注: 下载后可用WinSCP远程传输到ECS


